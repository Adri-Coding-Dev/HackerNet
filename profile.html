<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HackLearn - Mi Perfil</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/HackLearn.png" alt="HackLearn Logo" style="width: 70px;height: 70px;">
                <span>HackLearn</span>
            </div>
            
            <div class="nav-search">
                <input type="text" id="search-input" placeholder="Buscar máquinas...">
                <button id="search-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.3-4.3"></path>
                    </svg>
                </button>
            </div>
            
            <div class="nav-actions">
                <button id="filter-toggle" class="btn-secondary">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                    </svg>
                    Filtros
                </button>
                <button class="btn-secondary" data-nav="index.html">Inicio</button>
                <button class="btn-secondary" data-nav="profile.html">Perfil</button>
                <button class="btn-secondary" data-nav="roadmap.html">Roadmap</button>
                <button class="btn-secondary" data-nav="trophies.html">Trofeos</button>
                <button id="logout-btn" class="btn-primary">
                    Cerrar Sesión
                </button>
            </div>
        </div>
    </nav>

    <!-- Profile Content -->
    <main class="main-content">
        <div class="profile-container">
            <!-- Profile Header -->
            <div class="profile-header">
                <div class="user-avatar">
                    <div class="avatar-placeholder">U</div>
                </div>
                <div class="user-info">
                    <h1 id="user-email">usuario@ejemplo.com</h1>
                    <div class="user-level">
                        <span class="level-badge" id="user-level">Noob</span>
                        <span class="level-progress" id="level-progress">0% hasta siguiente nivel</span>
                    </div>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="profile-stats">
                <!-- Stats will be populated by JavaScript -->
            </div>

            <!-- Profile Tabs -->
            <div class="profile-tabs">
                <div class="tabs-header">
                    <button class="profile-tab active" data-tab="progress">Progreso</button>
                    <button class="profile-tab" data-tab="machines">Mis Máquinas</button>
                    <button class="profile-tab" data-tab="certifications">Certificaciones</button>
                    <button class="profile-tab" data-tab="trophies">Trofeos</button>
                </div>

                <div class="tab-content active" id="progress-tab">
                    <h3>Mi Progreso</h3>
                    <div class="progress-chart">
                        <div class="chart-placeholder">
                            Gráficas de progreso (próximamente)
                        </div>
                    </div>
                    <div class="progress-chart">
                        <div class="chart-placeholder">
                            Estadísticas por dificultad
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="machines-tab">
                    <h3>Mis Máquinas</h3>
                    <div class="user-machines-grid">
                        <!-- User machines will be populated by JavaScript -->
                    </div>
                </div>

                <div class="tab-content" id="certifications-tab">
                    <h3>Progreso de Certificaciones</h3>
                    <div class="certifications-list">
                        <!-- Certifications progress will be populated by JavaScript -->
                    </div>
                </div>

                <div class="tab-content" id="trophies-tab">
                    <h3>Mis Trofeos</h3>
                    <div class="trophies-grid">
                        <!-- Trophies will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Export Section -->
            <div class="export-section">
                <h3>Exportar Mis Datos</h3>
                <p>Descarga toda tu información de progreso, máquinas y logros en formato JSON.</p>
                <button id="export-data" class="btn-primary">Exportar Datos</button>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="js/credentials.js"></script>
    <script src="js/supabaseClient.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/data.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/main.js"></script>
</body>
</html>